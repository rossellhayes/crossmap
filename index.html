<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Apply Functions to All Combinations of List Elements • crossmap</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Apply Functions to All Combinations of List Elements">
<meta property="og:description" content="Provides an extension to the purrr family of
    mapping functions to apply a function to each combination of elements
    in a list of inputs.  Also includes functions for automatically
    detecting output type in mapping functions, finding every combination
    of elements of lists or rows of data frames, and applying multiple
    models to multiple subsets of a dataset.">
<meta property="og:image" content="https://crossmap.rossellhayes.com/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">crossmap</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rossellhayes/crossmap/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="crossmap-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#crossmap-" class="anchor"></a>crossmap <img src="reference/figures/logo.png?raw=TRUE" align="right" height="138">
</h1></div>
<!-- badges: start -->

<p><strong>crossmap</strong> provides an extension to <a href="https://github.com/tidyverse/purrr"><strong>purrr</strong></a>’s family of mapping functions. <code><a href="reference/xmap.html">xmap()</a></code> works like <code><a href="https://purrr.tidyverse.org/reference/map2.html">purrr::pmap()</a></code>, but applies a function to every combination of elements in a list of inputs.</p>
<p><strong>crossmap</strong> also includes a few other general purpose and specialized functions for working with combinations of list elements.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the released version of <strong>crossmap</strong> from <a href="https://cran.r-project.org/package=crossmap">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"crossmap"</span>)
</pre></div>
<p>or the development version from <a href="https://github.com/rossellhayes/crossmap">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="co"># install.packages("remotes")</span>
<span class="kw">remotes</span>::<span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"rossellhayes/crossmap"</span>)
</pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>While <code><a href="https://purrr.tidyverse.org/reference/map2.html">purrr::pmap()</a></code> applies a function to list elements pairwise, <code><a href="reference/xmap.html">xmap()</a></code> applies a function to all combinations of elements.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu">pmap_chr</span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>), <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="kw">.x</span>, <span class="st">"*"</span>, <span class="kw">.y</span>, <span class="st">"="</span>, <span class="kw">.x</span> <span class="op">*</span> <span class="kw">.y</span>))
<span class="co">#&gt; [1] "1 * 1 = 1" "2 * 2 = 4" "3 * 3 = 9"</span>
<span class="fu"><a href="reference/xmap.html">xmap_chr</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>), <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="kw">.x</span>, <span class="st">"*"</span>, <span class="kw">.y</span>, <span class="st">"="</span>, <span class="kw">.x</span> <span class="op">*</span> <span class="kw">.y</span>))
<span class="co">#&gt; [1] "1 * 1 = 1" "2 * 1 = 2" "3 * 1 = 3" "1 * 2 = 2" "2 * 2 = 4" "3 * 2 = 6"</span>
<span class="co">#&gt; [7] "1 * 3 = 3" "2 * 3 = 6" "3 * 3 = 9"</span>
</pre></div>
<p><code><a href="reference/xmap_mat.html">xmap_mat()</a></code> formats <code><a href="reference/xmap.html">xmap()</a></code> results into a matrix.</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="reference/xmap_mat.html">xmap_mat</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>), <span class="kw">prod</span>)
<span class="co">#&gt;   1 2 3  4  5  6</span>
<span class="co">#&gt; 1 1 2 3  4  5  6</span>
<span class="co">#&gt; 2 2 4 6  8 10 12</span>
<span class="co">#&gt; 3 3 6 9 12 15 18</span>
</pre></div>
<p><strong>crossmap</strong> also integrates with <a href="https://github.com/DavisVaughan/furrr"><strong>furrr</strong></a> to offer parallelized versions of the <code><a href="reference/xmap.html">xmap()</a></code> functions.</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="kw">future</span>::<span class="fu"><a href="https://rdrr.io/pkg/future/man/plan.html">plan</a></span>(<span class="st">"multiprocess"</span>)
<span class="fu"><a href="reference/future_xmap.html">future_xmap_chr</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>), <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="kw">.x</span>, <span class="st">"*"</span>, <span class="kw">.y</span>, <span class="st">"="</span>, <span class="kw">.x</span> <span class="op">*</span> <span class="kw">.y</span>))
<span class="co">#&gt; [1] "1 * 1 = 1" "2 * 1 = 2" "3 * 1 = 3" "1 * 2 = 2" "2 * 2 = 4" "3 * 2 = 6"</span>
<span class="co">#&gt; [7] "1 * 3 = 3" "2 * 3 = 6" "3 * 3 = 9"</span>
</pre></div>
<p><code><a href="reference/cross_fit.html">cross_fit()</a></code> is an easy wrapper for an important use of <strong>crossmap</strong>, crossing model specifications with different formulas, subsets, and weights.</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="fu"><a href="reference/cross_fit.html">cross_fit</a></span>(
  <span class="kw">mtcars</span>,
  formulas = <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(hp = <span class="kw">mpg</span> <span class="op">~</span> <span class="kw">hp</span>, drat = <span class="kw">mpg</span> <span class="op">~</span> <span class="kw">drat</span>),
  cols     = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="kw">cyl</span>, <span class="kw">vs</span>),
  weights  = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="kw">wt</span>, <span class="fl">NA</span>)
)
<span class="co">#&gt; # A tibble: 40 x 9</span>
<span class="co">#&gt;    model   cyl    vs weights term       estimate  std.error statistic    p.value</span>
<span class="co">#&gt;    &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;         &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;</span>
<span class="co">#&gt;  1 hp        4     0 NA      (Intercep~   26     NaN        NaN       NaN       </span>
<span class="co">#&gt;  2 hp        4     0 NA      hp           NA      NA         NA        NA       </span>
<span class="co">#&gt;  3 hp        4     0 wt      (Intercep~   26.0   NaN        NaN       NaN       </span>
<span class="co">#&gt;  4 hp        4     0 wt      hp           NA      NA         NA        NA       </span>
<span class="co">#&gt;  5 hp        4     1 NA      (Intercep~   36.0     5.52e+ 0   6.52e 0   1.85e- 4</span>
<span class="co">#&gt;  6 hp        4     1 NA      hp           -0.113   6.55e- 2  -1.73e 0   1.21e- 1</span>
<span class="co">#&gt;  7 hp        4     1 wt      (Intercep~   36.2     5.44e+ 0   6.66e 0   1.59e- 4</span>
<span class="co">#&gt;  8 hp        4     1 wt      hp           -0.125   6.39e- 2  -1.95e 0   8.73e- 2</span>
<span class="co">#&gt;  9 hp        6     0 NA      (Intercep~   23.2     1.02e-14   2.28e15   2.79e-16</span>
<span class="co">#&gt; 10 hp        6     0 NA      hp           -0.02    7.53e-17  -2.66e14   2.40e-15</span>
<span class="co">#&gt; # ... with 30 more rows</span>
</pre></div>
<p><code><a href="reference/cross_list.html">cross_list()</a></code> finds all combinations of elements from a set of lists.</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="fu"><a href="reference/cross_list.html">cross_list</a></span>(number = <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, letter = <span class="kw">letters</span>[<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>])
<span class="co">#&gt; $number</span>
<span class="co">#&gt; [1] 1 2 3 1 2 3 1 2 3</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $letter</span>
<span class="co">#&gt; [1] "a" "a" "a" "b" "b" "b" "c" "c" "c"</span>
<span class="fu"><a href="reference/cross_list.html">cross_tbl</a></span>(number = <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, letter = <span class="kw">letters</span>[<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>])
<span class="co">#&gt; # A tibble: 9 x 2</span>
<span class="co">#&gt;   number letter</span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt; </span>
<span class="co">#&gt; 1      1 a     </span>
<span class="co">#&gt; 2      2 a     </span>
<span class="co">#&gt; 3      3 a     </span>
<span class="co">#&gt; 4      1 b     </span>
<span class="co">#&gt; 5      2 b     </span>
<span class="co">#&gt; 6      3 b     </span>
<span class="co">#&gt; 7      1 c     </span>
<span class="co">#&gt; 8      2 c     </span>
<span class="co">#&gt; 9      3 c</span>
</pre></div>
<p>And <code><a href="reference/cross_join.html">cross_join()</a></code> finds all combinations of the rows of data frames.</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="fu"><a href="reference/cross_join.html">cross_join</a></span>(
  <span class="fu">tibble</span>(
    color = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"red"</span>, <span class="st">"yellow"</span>, <span class="st">"orange"</span>),
    fruit = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cantaloupe"</span>)
  ),
  <span class="fu">tibble</span>(dessert = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"cupcake"</span>, <span class="st">"muffin"</span>, <span class="st">"streudel"</span>), makes = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">8</span>, <span class="fl">6</span>, <span class="fl">1</span>))
)
<span class="co">#&gt; # A tibble: 9 x 4</span>
<span class="co">#&gt;   color  fruit      dessert  makes</span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt; 1 red    apple      cupcake      8</span>
<span class="co">#&gt; 2 red    apple      muffin       6</span>
<span class="co">#&gt; 3 red    apple      streudel     1</span>
<span class="co">#&gt; 4 yellow banana     cupcake      8</span>
<span class="co">#&gt; 5 yellow banana     muffin       6</span>
<span class="co">#&gt; 6 yellow banana     streudel     1</span>
<span class="co">#&gt; 7 orange cantaloupe cupcake      8</span>
<span class="co">#&gt; 8 orange cantaloupe muffin       6</span>
<span class="co">#&gt; 9 orange cantaloupe streudel     1</span>
</pre></div>
<p><code><a href="reference/map_vec.html">map_vec()</a></code> and variants automatically determine output types. This means you don’t have to worry about adding <code>_int()</code>, <code>_dbl()</code> or <code>_chr()</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="fu"><a href="reference/map_vec.html">map_vec</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="fl">5</span>), <span class="op">~</span> <span class="kw">.</span> <span class="op">^</span> <span class="fl">2</span>)
<span class="co">#&gt; [1] 16 25  1  9  4</span>
<span class="fu"><a href="reference/map_vec.html">map_vec</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cantaloupe"</span>), <span class="kw">paste0</span>, <span class="st">"s"</span>)
<span class="co">#&gt; [1] "apples"      "bananas"     "cantaloupes"</span>
</pre></div>
<hr>
<p>Hex sticker font is <a href="https://github.com/adobe-fonts/source-sans-pro">Source Sans Pro</a> by <a href="https://www.adobe.com">Adobe</a>.</p>
<p>Please note that <strong>crossmap</strong> is released with a <a href="https://www.contributor-covenant.org/version/2/0/code_of_conduct/">Contributor Code of Conduct</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=crossmap">https://​cloud.r-project.org/​package=crossmap</a>
</li>
<li>Browse source code at <br><a href="https://github.com/rossellhayes/crossmap/">https://​github.com/​rossellhayes/​crossmap/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/rossellhayes/crossmap/issues">https://​github.com/​rossellhayes/​crossmap/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Alexander Rossell Hayes <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0001-9412-0457" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=crossmap"><img src="https://www.r-pkg.org/badges/version/crossmap?color=brightgreen"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg"></a></li>
<li><a href="https://cran.r-project.org/web/licenses/MIT"><img src="https://img.shields.io/badge/license-MIT-blueviolet.svg" alt="License: MIT"></a></li>
<li><a href="https://github.com/rossellhayes/crossmap/actions"><img src="https://github.com/rossellhayes/crossmap/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://codecov.io/gh/rossellhayes/crossmap"><img src="https://codecov.io/gh/rossellhayes/crossmap/branch/master/graph/badge.svg"></a></li>
<li><a href="https://cran.r-project.org/package=crossmap"><img src="https://tinyverse.netlify.com/badge/crossmap" alt="Dependencies"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Alexander Rossell Hayes.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
